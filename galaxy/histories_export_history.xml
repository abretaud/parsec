<?xml version="1.0"?>
<tool id="parsec.histories.export_history" name="histories" version="1.0">
 <description>export_history</description>
	<macros>
		<import>macros.xml</import>
	</macros>
	<expand macro="requirements"/>
	<command detect_errors="aggressive">
parsec histories export_history
"$history_id"

#if $gzip:
  $gzip
#end if
#if $include_hidden:
  $include_hidden
#end if
#if $include_deleted:
  $include_deleted
#end if
#if $wait:
  $wait
#end if

| jq -S . > $results
</command>
	<inputs>
    <!-- arguments -->
	<param name="history_id" label="History Id" argument="history_id" type="text" help="history ID" />

    <!-- options -->
	<param name="gzip" label="Gzip" argument="gzip" type="booelan" truevalue="--gzip" falsevalue="" help="create .tar.gz archive if ``True``, else .tar" />
	<param name="include_hidden" label="Include Hidden" argument="include_hidden" type="booelan" truevalue="--include_hidden" falsevalue="" help="whether to include hidden datasets in the export" />
	<param name="include_deleted" label="Include Deleted" argument="include_deleted" type="booelan" truevalue="--include_deleted" falsevalue="" help="whether to include deleted datasets in the export" />
	<param name="wait" label="Wait" argument="wait" type="booelan" truevalue="--wait" falsevalue="" help="if ``True``, block until the export is ready; else, return immediately" />

	</inputs>
	<outputs>
		<data format="json" name="results"/>
	</outputs>
	<help>
Start a job to create an export archive for the given history.
	</help>
</tool>

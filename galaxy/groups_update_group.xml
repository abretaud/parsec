<?xml version="1.0"?>
<tool id="parsec.groups.update_group" name="groups" version="1.0">
 <description>update_group</description>
	<macros>
		<import>macros.xml</import>
	</macros>
	<expand macro="requirements"/>
	<command detect_errors="aggressive">
parsec groups update_group
"$group_id"

#if $group_name:
  --group_name "$group_name"
#end if
#for $rep in $repeat_user_ids:
  --user_ids "$rep.user_ids"
#end for
#for $rep in $repeat_role_ids:
  --role_ids "$rep.role_ids"
#end for

| jq -S . > $results
</command>
	<inputs>
    <!-- arguments -->
	<param name="group_id" label="group_id" argument="group_id" type="text" help="Encoded group ID" />

    <!-- options -->
	<param name="group_name" label="group_name" argument="group_name" type="text" help="A new name for the group. If None, the group name is not changed." />
	<repeat name="repeat_user_ids" title="user_ids">
		<param name="user_ids" label="user_ids" argument="user_ids" type="text" help="New list of encoded user IDs for the group. It will substitute the previous list of users (with [] if not specified)" />
	</repeat>
	<repeat name="repeat_role_ids" title="role_ids">
		<param name="role_ids" label="role_ids" argument="role_ids" type="text" help="New list of encoded role IDs for the group. It will substitute the previous list of roles (with [] if not specified)" />
	</repeat>

	</inputs>
	<outputs>
		<data format="json" name="results"/>
	</outputs>
	<help>
Update a group.
	</help>
</tool>

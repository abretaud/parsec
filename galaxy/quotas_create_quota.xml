<?xml version="1.0"?>
<tool id="parsec.quotas.create_quota" name="quotas" version="1.0">
 <description>create_quota</description>
	<macros>
		<import>macros.xml</import>
	</macros>
	<expand macro="requirements"/>
	<command detect_errors="aggressive">
parsec quotas create_quota
"$name"
"$description"
"$amount"
"$operation"

#if $default:
  --default "$default"
#end if
#for $rep in $repeat_in_users:
  --in_users "$rep.in_users"
#end for
#for $rep in $repeat_in_groups:
  --in_groups "$rep.in_groups"
#end for

| jq -S . > $results
</command>
	<inputs>
    <!-- arguments -->
	<param name="name" label="Name" argument="name" type="text" help="Name for the new quota. This must be unique within a Galaxy instance." />
	<param name="description" label="Description" argument="description" type="text" help="Quota description" />
	<param name="amount" label="Amount" argument="amount" type="text" help="Quota size (E.g. ``10000MB``, ``99 gb``, ``0.2T``, ``unlimited``)" />
	<param name="operation" label="Operation" argument="operation" type="text" help="One of (``+``, ``-``, ``=``)" />

    <!-- options -->
	<param name="default" label="Default" argument="default" type="text" help="Whether or not this is a default quota. Valid values are ``no``, ``unregistered``, ``registered``. None is equivalent to ``no``." />
	<repeat name="repeat_in_users" title="in_users">
		<param name="in_users" label="In Users" argument="in_users" type="text" help="A list of user IDs or user emails." />
	</repeat>
	<repeat name="repeat_in_groups" title="in_groups">
		<param name="in_groups" label="In Groups" argument="in_groups" type="text" help="A list of group IDs or names." />
	</repeat>

	</inputs>
	<outputs>
		<data format="json" name="results"/>
	</outputs>
	<help>
Create a new quota
	</help>
</tool>

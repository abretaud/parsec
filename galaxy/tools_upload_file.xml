<?xml version="1.0"?>
<tool id="parsec.tools.upload_file" name="tools" version="1.0">
 <description>upload_file</description>
  <macros>
    <import>macros.xml</import>
  </macros>
  <expand macro="requirements"/>
  <command detect_errors="aggressive">
parsec tools upload_file
--path "$path"
--history_id "$history_id"

#if $dbkey
  --dbkey "$dbkey"
#end if
#if $file_name
  --file_name "$file_name"
#end if
#if $file_type
  --file_type "$file_type"
#end if
#if $space_to_tab
  --space_to_tab "$space_to_tab"
#end if
#if $to_posix_lines
  --to_posix_lines "$to_posix_lines"
#end if

| jq -S . > $results
</command>
  <inputs>
    <!-- arguments -->
    <input name="path" label="path" argument="path"  type="text" help="path of the file to upload"/>
    <input name="history_id" label="history_id" argument="history_id"  type="text" help="id of the history where to upload the file"/>

    <!-- options -->
    <input name="dbkey" argument="dbkey" type="text" help="(optional) genome dbkey"/>
    <input name="file_name" argument="file_name" type="text" help="(optional) name of the new history dataset"/>
    <input name="file_type" argument="file_type" type="text" help="Galaxy datatype for the new dataset, default is auto"/>
    <input name="space_to_tab" argument="space_to_tab" type="boolean" truevalue="" falsevalue="" help="whether to convert spaces to tabs. Default is False. Applicable only if to_posix_lines is True"/>
    <input name="to_posix_lines" argument="to_posix_lines" type="boolean" truevalue="" falsevalue="" help="if True, convert universal line endings to POSIX line endings. Default is True. Set to False if you upload a gzip, bz2 or zip archive containing a binary file"/>

  </inputs>
  <outputs>
    <data format="json" name="results"/>
  </outputs>
  <help>
Upload the file specified by ``path`` to the history specified by ``history_id``.
  </help>
</tool>
